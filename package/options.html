
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Send to Home Assistant - Options</title>
  <link rel="stylesheet" href="style.css">
  <style>
    /* Remove all style rules here except for any page-specific overrides if needed */
  </style>
</head>
<body>
  <div class="card">
  <div class="icon"><img src="icon-256.png" width="36" height="36" alt="HA"></div>
  <h2>Send to Home Assistant</h2>
  <div class="desc">  
  <span class="options-title">Instructions</span>
  <p>Enter your Home Assistant hostname or IP, choose SSL if your server uses https, and paste your <b>Webhook ID</b> (not the full URL).</p>
  <p>Optionally, you can specify a User and/or device name so that you can specify who and what the message is from.</p>
  <span class="options-title">Options</span>
  <label for="haHost">Home Assistant Hostname or IP</label>
  <input type="text" id="haHost" placeholder="myhome.duckdns.org or 192.168.1.2">
  <label for="sslToggle"><input type="checkbox" id="sslToggle" checked> Use SSL (https)</label>
  <div class="webhook-row">
  <label for="webhookId"><a href="https://www.home-assistant.io/docs/automation/trigger/#webhook-trigger" target="_blank" rel="noopener noreferrer" class="link-blue">Webhook ID</a></label> 
    <input type="text" id="webhookId" placeholder="xxxxxx-xxxxxxxxxxxx">
  </div>
  <label for="userName">User <span class="label-note">(optional)</span></label>
  <input type="text" id="userName" placeholder="Your name (optional)" maxlength="32">
  <label for="deviceName">Device Name <span class="label-note">(optional, for identifying this device)</span></label>
  <input type="text" id="deviceName" placeholder="e.g. Work Laptop" maxlength="32">

    <div class="btn-row">
      <button id="test" class="copy-btn">Test</button>
      <button id="save" class="copy-btn">Save</button>
  <button id="clearConfig" class="copy-btn clear-btn">Clear Config</button>
    </div>

  <div class="status" id="status"></div>
  
    <div class="privacy">
      <b>Privacy Notice:</b><br>
      <b>All data is sent only to your configured Home Assistant webhook</b> and is never sent to any third party or external server. No data is collected or stored by the extension author.
    </div>
    <div id="updateStatus"></div>
    <div class="update-toggle-row">
      <label for="updateCheckToggle" class="update-toggle-label">
        <input type="checkbox" id="updateCheckToggle" checked>
        Check for extension updates automatically
      </label>
    </div>
    <div class="update-toggle-row">
      <label for="autoUpdateToggle" class="update-toggle-label">
        <input type="checkbox" id="autoUpdateToggle">
        Enable Auto-Update (automatically send active tab data at intervals)
      </label>
    </div>
    <div id="autoUpdateIntervalDiv" style="margin-left: 24px; display: none;">
      <label for="updateInterval">Update Interval (seconds, minimum 5)</label>
      <input type="number" id="updateInterval" min="5" value="60" style="width: 100px;">
    </div>
    <div class="footer-row">
      <a href="https://github.com/JOHLC/Send-to-Home-Assistant" target="_blank" rel="noopener noreferrer" class="link-blue">
        View on GitHub
      </a>
      <div id="extVersion" class="ext-version"></div>
    </div>
  </div>
  <script src="utils.js"></script>
  <script src="options.js"></script>
</body>
</html>

